<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapitre 12 ‚Äì Le labyrinthe du Louvre</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:linear-gradient(to bottom,#0b1d3a,#000);
  color:white;
  text-align:center;
}
.back{
  position:fixed;top:12px;left:12px;
  color:#6fb3ff;text-decoration:none;font-size:14px;
}
.page{max-width:520px;margin:auto;padding:40px 16px 80px;}
h2{margin-bottom:10px}
.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin:20px 0;
}
.card{
  border-radius:10px;
  overflow:hidden;
  cursor:pointer;
  border:2px solid #6fb3ff;
  max-width:90px;     /* kichraytirildi */
  margin:auto;
  transition:transform .2s, box-shadow .2s;
}
.card.correct{
  box-shadow:0 0 20px #6fff9a;
  border-color:#6fff9a;
}
.card img{width:100%;display:block}

.names{
  display:flex;flex-direction:column;gap:10px;align-items:center;margin-top:20px;
}
.name{
  width:100%;max-width:360px;
  padding:12px 16px;border-radius:14px;
  border:2px solid #6fb3ff;
  background:rgba(255,255,255,.05);
  cursor:pointer;
}
#msg{margin-top:16px;min-height:24px}

.overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.92);
  display:none;align-items:center;justify-content:center;
  z-index:999;
}
.overlay img{
  width:100%;
  height:100%;
  object-fit:contain;
}

.btn{
  margin-top:40px;padding:16px 40px;border:none;border-radius:22px;
  background:#2b7cff;color:white;font-size:20px;font-weight:bold;display:none;
}
</style>
</head>

<body>
<a class="back" href="chapter11.html">‚Üê Retour</a>

<div class="page">
  <h2>üóùÔ∏è Le labyrinthe du Louvre</h2>
  <p>Associe l‚Äô≈ìuvre √† son nom.</p>

  <div class="grid" id="grid"></div>
  <div class="names" id="names"></div>
  <div id="msg"></div>

  <button class="btn" id="next" onclick="location.href='chapter13.html'">
    Continuer ‚Üí
  </button>
</div>

<div class="overlay" id="overlay">
  <img id="big" src="">
</div>

<script>
const works = [
  {id:"joconde", img:"joconde.jpg", name:"La Joconde"},
  {id:"venus", img:"venus.jpg", name:"La V√©nus de Milo"},
  {id:"victoire", img:"victoire.jpg", name:"La Victoire de Samothrace"},
  {id:"liberte", img:"liberte.jpg", name:"La Libert√© guidant le peuple"},
  {id:"hammurabi", img:"hammurabi.jpg", name:"Le Code de Hammurabi"}
];

let selected = null;
let selectedCard = null;
let done = new Set();

function shuffle(a){ return a.sort(()=>Math.random()-0.5); }

function init(){
  const g = document.getElementById("grid");
  const n = document.getElementById("names");

  shuffle([...works]).forEach(w=>{
    const c = document.createElement("div");
    c.className="card";
    c.innerHTML=`<img src="${w.img}">`;
    c.onclick=()=>selectWork(w,c);
    g.appendChild(c);
  });

  shuffle([...works]).forEach(w=>{
    const d = document.createElement("div");
    d.className="name";
    d.innerText = w.name;
    d.onclick=()=>pickName(w,d);
    n.appendChild(d);
  });
}

function selectWork(w, card){
  selected = w;
  selectedCard = card;
  const ov = document.getElementById("overlay");
  const img = document.getElementById("big");
  img.src = w.img;
  ov.style.display="flex";

  setTimeout(()=> ov.style.display="none", 7000);
}

function pickName(w, el){
  if(!selected || done.has(selected.id)) return;

  const msg = document.getElementById("msg");

  if(w.id === selected.id){
    msg.style.color="#6fff9a";
    msg.innerText="Une porte s‚Äôouvre dans le mus√©e‚Ä¶";
    done.add(w.id);
    el.style.opacity=.4;

    if(selectedCard){
      selectedCard.classList.add("correct");
    }

    if(done.size === works.length){
      msg.innerText="‚ú® Le labyrinthe du Louvre est ouvert.";
      document.getElementById("next").style.display="inline-block";
    }
  } else {
    msg.style.color="#ff6f6f";
    msg.innerText="Ce n‚Äôest pas la bonne ≈ìuvre‚Ä¶";
  }
}

init();
</script>
</body>
</html>
