<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapitre 9 â€“ Sous le pont</title>
<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:linear-gradient(to bottom,#0b1d3a,#000);
  color:white;
  text-align:center;
}
.page{max-width:480px;margin:auto;padding:40px 16px;}
h2{font-size:28px}
.zone{
  margin:20px 0;
  padding:16px;
  border-radius:16px;
  background:rgba(255,255,255,.1)
}
.letters{display:flex;flex-wrap:wrap;gap:10px;justify-content:center}
.letter{
  width:48px;height:48px;border-radius:12px;
  background:#2b7cff;color:white;
  display:flex;align-items:center;justify-content:center;
  font-size:22px;cursor:grab;
}
.slots{display:flex;gap:12px;justify-content:center;margin-top:12px}
.slot{
  width:48px;height:48px;border:2px dashed #6fb3ff;
  border-radius:12px;display:flex;align-items:center;justify-content:center;
  font-size:22px
}
.hidden{display:none}
.question{margin:12px 0}
.light{font-size:26px;opacity:.3}
.light.on{opacity:1}
.btn{
  margin-top:24px;padding:16px 40px;border:none;border-radius:22px;
  background:#2b7cff;color:white;font-size:20px;font-weight:bold;
}
</style>
</head>
<body>

<div class="page">

<!-- Ã‰TAPE 1 -->
<div id="step1" class="zone">
  <h2>ðŸŒ‰ Sous le pont, un mot dort</h2>
  <p>Glisse les lettres pour former le mot cachÃ©.</p>

  <div class="letters" id="letters">
    <div class="letter" draggable="true">P</div>
    <div class="letter" draggable="true">O</div>
    <div class="letter" draggable="true">N</div>
    <div class="letter" draggable="true">T</div>
    <div class="letter" draggable="true">R</div>
    <div class="letter" draggable="true">I</div>
    <div class="letter" draggable="true">V</div>
    <div class="letter" draggable="true">E</div>
  </div>

  <div class="slots">
    <div class="slot"></div>
    <div class="slot"></div>
    <div class="slot"></div>
    <div class="slot"></div>
  </div>

  <p id="msg1"></p>
</div>

<!-- Ã‰TAPE 2 -->
<div id="step2" class="zone hidden">
  <h2>ðŸ’¡ Allume les lumiÃ¨res</h2>

  <div class="question">
    pont = ?
    <br>
    <button onclick="good(0)">pont</button>
    <button onclick="bad()">ville</button>
  </div>

  <div class="question">
    nuit = ?
    <br>
    <button onclick="bad()">jour</button>
    <button onclick="good(1)">nuit</button>
  </div>

  <div class="question">
    rive = ?
    <br>
    <button onclick="good(2)">bord du fleuve</button>
    <button onclick="bad()">maison</button>
  </div>

  <div class="question">
    lumiÃ¨re = ?
    <br>
    <button onclick="bad()">noir</button>
    <button onclick="good(3)">lumiÃ¨re</button>
  </div>

  <div class="question">
    ville = ?
    <br>
    <button onclick="bad()">forÃªt</button>
    <button onclick="good(4)">ville</button>
  </div>

  <div>
    <span class="light" id="l0">ðŸ’¡</span>
    <span class="light" id="l1">ðŸ’¡</span>
    <span class="light" id="l2">ðŸ’¡</span>
    <span class="light" id="l3">ðŸ’¡</span>
    <span class="light" id="l4">ðŸ’¡</span>
  </div>

  <p id="secret" class="hidden" style="font-size:28px;margin-top:20px;">
    ðŸ”‘ Le mot secret est : <strong>PARIS</strong>
  </p>

  <button class="btn hidden" id="next" onclick="location.href='chapter10.html'">
    Continuer â†’
  </button>
</div>

</div>

<script>
let dragged=null;
document.querySelectorAll(".letter").forEach(l=>{
  l.addEventListener("dragstart",()=>dragged=l);
});
document.querySelectorAll(".slot").forEach(s=>{
  s.addEventListener("dragover",e=>e.preventDefault());
  s.addEventListener("drop",()=>{
    if(!s.textContent){
      s.textContent=dragged.textContent;
      checkWord();
    }
  });
});

function checkWord(){
  let word="";
  document.querySelectorAll(".slot").forEach(s=>word+=s.textContent);
  if(word.length===4){
    if(word==="PONT"){
      document.getElementById("step1").classList.add("hidden");
      document.getElementById("step2").classList.remove("hidden");
    }else{
      document.getElementById("msg1").innerText="Essaie encoreâ€¦";
      setTimeout(()=>{
        document.querySelectorAll(".slot").forEach(s=>s.textContent="");
        document.getElementById("msg1").innerText="";
      },1200);
    }
  }
}

let lights=0;
function good(i){
  const l=document.getElementById("l"+i);
  if(!l.classList.contains("on")){
    l.classList.add("on");
    lights++;
    if(lights===5){
      document.getElementById("secret").classList.remove("hidden");
      document.getElementById("next").clas
