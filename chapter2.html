<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>La carte mystérieuse</title>

<style>
  body{
    margin:0;
    font-family: "Georgia", serif;
    background:#0f0f0f;
    color:#fff;
  }

  .page{
    max-width:420px;
    margin:auto;
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
  }

  .map-zone{
    position:relative;
    padding:12px;
  }

  .map-zone img.map{
    width:100%;
    border-radius:14px;
    display:block;
    box-shadow:0 10px 30px rgba(0,0,0,.6);
  }

  .lock{
    position:absolute;
    width:28px;
    cursor:pointer;
    z-index:10;
    transition:transform .2s;
  }
  .lock:hover{ transform:scale(1.1); }

  /* Xarita ichidagi joylar */
  #lock1{ top:52%; left:46%; }
  #lock2{ top:38%; left:28%; opacity:.4; }
  #lock3{ top:60%; left:68%; opacity:.4; }

  .question-box{
    background:#f3e1b6;
    color:#3b2a10;
    margin:12px;
    padding:14px;
    border-radius:14px;
    display:none;
    box-shadow:0 8px 20px rgba(0,0,0,.4);
  }

  .question-box h3{
    margin:0 0 8px;
    font-weight:normal;
  }

  .question-box input{
    width:65%;
    padding:8px;
    border-radius:8px;
    border:1px solid #b48a3d;
    font-size:16px;
  }

  .question-box button{
    padding:8px 14px;
    margin-left:6px;
    border:none;
    border-radius:8px;
    background:#8a5a12;
    color:white;
    font-size:16px;
  }

  .feedback{
    margin-top:6px;
    font-style:italic;
    color:#8a5a12;
  }

  .next{
    padding:12px;
  }

  .next button{
    width:100%;
    padding:14px;
    border:none;
    border-radius:12px;
    background:#2b7cff;
    color:white;
    font-size:18px;
    opacity:.4;
  }
</style>
</head>

<body>
<div class="page">

  <div class="map-zone">
    <img src="map.jpg" class="map" alt="Carte">
    <img src="lock.png" id="lock1" class="lock" onclick="openLock(1)">
    <img src="lock.png" id="lock2" class="lock" onclick="openLock(2)">
    <img src="lock.png" id="lock3" class="lock" onclick="openLock(3)">
  </div>

  <div id="qbox" class="question-box">
    <h3 id="question"></h3>
    <input id="answer" placeholder="Écris ici">
    <button onclick="check()">Valider</button>
    <div id="feedback" class="feedback"></div>
  </div>

  <div class="next">
    <button id="nextBtn" onclick="location.href='next.html'">Continuer</button>
  </div>

</div>

<script>
let current = 0;
let unlocked = 0;

const questions = {
 1:{q:"Paris est une… ?", a:["ville","capitale"]},
  2:{q:"Paris est en… ?", a:["france"]},
  3:{ q:"La tour célèbre à Paris s’appelle… ?", a:"eiffel" }
};

function openLock(n){
  if(n !== unlocked+1) return;
  current = n;
  document.getElementById("qbox").style.display="block";
  document.getElementById("question").innerText = questions[n].q;
  document.getElementById("answer").value="";
  document.getElementById("feedback").innerText="";
}

function check(){
  const val = document.getElementById("answer").value.trim().toLowerCase();
  if(val === questions[current].a){
    document.getElementById("lock"+current).src="unlock.png";
    document.getElementById("lock"+current).style.opacity="1";
    unlocked++;
    document.getElementById("qbox").style.display="none";

    if(unlocked < 3){
      document.getElementById("lock"+(unlocked+1)).style.opacity="1";
    }else{
      document.getElementById("nextBtn").style.opacity="1";
    }
  }else{
    document.getElementById("feedback").innerText="Essaye encore…";
  }
}
</script>

</body>
</html>
